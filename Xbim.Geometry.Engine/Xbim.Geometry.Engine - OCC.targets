<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <RuntimeLibrary>MultiThreadedDebugDLL</RuntimeLibrary>
      <Optimization>Disabled</Optimization>
      <PreprocessorDefinitions>WIN32;_DEBUG;HAVE_NO_DLL;_CRT_SECURE_NO_WARNINGS;_CRT_NONSTDC_NO_DEPRECATE;$(CSF_DEFINES);OCC_6_9_SUPPORTED;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <CompileAs>Default</CompileAs>

      <AdditionalIncludeDirectories>.\OCC\src\Adaptor2d;.\OCC\src\Adaptor3d;.\OCC\src\AdvApp2Var;.\OCC\src\AdvApprox;.\OCC\src\AppBlend;.\OCC\src\AppCont;.\OCC\src\AppDef;.\OCC\src\AppParCurves;.\OCC\src\Approx;.\OCC\src\ApproxInt;.\OCC\src\Bisector;.\OCC\src\BiTgte;.\OCC\src\Blend;.\OCC\src\BlendFunc;.\OCC\src\Bnd;.\OCC\src\BndLib;.\OCC\src\BOPAlgo;.\OCC\src\BOPCol;.\OCC\src\BOPDS;.\OCC\src\BOPTools;.\OCC\src\BRep;.\OCC\src\BRepAdaptor;.\OCC\src\BRepAlgo;.\OCC\src\BRepAlgoAPI;.\OCC\src\BRepApprox;.\OCC\src\BRepBlend;.\OCC\src\BRepBndLib;.\OCC\src\BRepBuilderAPI;.\OCC\src\BRepCheck;.\OCC\src\BRepClass;.\OCC\src\BRepClass3d;.\OCC\src\BRepExtrema;.\OCC\src\BRepFill;.\OCC\src\BRepFilletAPI;.\OCC\src\BRepGProp;.\OCC\src\BRepIntCurveSurface;.\OCC\src\BRepLib;.\OCC\src\BRepLProp;.\OCC\src\BRepMAT2d;.\OCC\src\BRepMesh;.\OCC\src\BRepMeshData;.\OCC\src\BRepOffset;.\OCC\src\BRepOffsetAPI;.\OCC\src\BRepPrim;.\OCC\src\BRepPrimAPI;.\OCC\src\BRepProj;.\OCC\src\BRepSweep;.\OCC\src\BRepTools;.\OCC\src\BRepTopAdaptor;.\OCC\src\BSplCLib;.\OCC\src\BSplSLib;.\OCC\src\BVH;.\OCC\src\ChFi2d;.\OCC\src\ChFi3d;.\OCC\src\ChFiDS;.\OCC\src\ChFiKPart;.\OCC\src\Convert;.\OCC\src\CPnts;.\OCC\src\CSLib;.\OCC\src\Dico;.\OCC\src\Draft;.\OCC\src\ElCLib;.\OCC\src\ElSLib;.\OCC\src\Extrema;.\OCC\src\FairCurve;.\OCC\src\FEmTool;.\OCC\src\FilletSurf;.\OCC\src\FSD;.\OCC\src\GC;.\OCC\src\GccAna;.\OCC\src\GccEnt;.\OCC\src\GccInt;.\OCC\src\gce;.\OCC\src\GCE2d;.\OCC\src\GCPnts;.\OCC\src\Geom;.\OCC\src\Geom2d;.\OCC\src\Geom2dAdaptor;.\OCC\src\Geom2dAPI;.\OCC\src\Geom2dConvert;.\OCC\src\Geom2dEvaluator;.\OCC\src\Geom2dGcc;.\OCC\src\Geom2dHatch;.\OCC\src\Geom2dInt;.\OCC\src\Geom2dLProp;.\OCC\src\GeomAbs;.\OCC\src\GeomAdaptor;.\OCC\src\GeomAPI;.\OCC\src\GeomConvert;.\OCC\src\GeomEvaluator;.\OCC\src\GeomFill;.\OCC\src\GeomInt;.\OCC\src\GeomLib;.\OCC\src\GeomLProp;.\OCC\src\GeomPlate;.\OCC\src\GeomProjLib;.\OCC\src\Graphic3d;.\OCC\src\GeomTools;.\OCC\src\gp;.\OCC\src\GProp;.\OCC\src\Hatch;.\OCC\src\HatchGen;.\OCC\src\Hermit;.\OCC\src\IMeshTools;.\OCC\src\IMeshData;.\OCC\src\IntAna;.\OCC\src\IntAna2d;.\OCC\src\IntCurve;.\OCC\src\IntCurvesFace;.\OCC\src\IntCurveSurface;.\OCC\src\Intf;.\OCC\src\IntImp;.\OCC\src\IntImpParGen;.\OCC\src\IntPatch;.\OCC\src\IntPolyh;.\OCC\src\IntRes2d;.\OCC\src\IntStart;.\OCC\src\IntSurf;.\OCC\src\IntTools;.\OCC\src\IntWalk;.\OCC\src\Law;.\OCC\src\LocalAnalysis;.\OCC\src\LProp;.\OCC\src\LProp3d;.\OCC\src\MAT;.\OCC\src\MAT2d;.\OCC\src\math;.\OCC\src\MeshVS;.\OCC\src\Message;.\OCC\src\MMgt;.\OCC\src\NCollection;.\OCC\src\NLPlate;.\OCC\src\OSD;.\OCC\src\Plate;.\OCC\src\PLib;.\OCC\src\Plugin;.\OCC\src\Poly;.\OCC\src\Precision;.\OCC\src\ProjLib;.\OCC\src\Quantity;.\OCC\src\Resource;.\OCC\src\ShapeAlgo;.\OCC\src\ShapeAnalysis;.\OCC\src\ShapeBuild;.\OCC\src\ShapeConstruct;.\OCC\src\ShapeCustom;.\OCC\src\ShapeExtend;.\OCC\src\ShapeFix;.\OCC\src\ShapeProcess;.\OCC\src\ShapeProcessAPI;.\OCC\src\ShapeUpgrade;.\OCC\src\SortTools;.\OCC\src\Standard;.\OCC\src\StdFail;.\OCC\src\StdSelect;.\OCC\src\Storage;.\OCC\src\Sweep;.\OCC\src\TColGeom;.\OCC\src\TColGeom2d;.\OCC\src\TColgp;.\OCC\src\TCollection;.\OCC\src\TColStd;.\OCC\src\TopAbs;.\OCC\src\TopClass;.\OCC\src\TopExp;.\OCC\src\TopLoc;.\OCC\src\TopoDS;.\OCC\src\TopOpeBRep;.\OCC\src\TopOpeBRepBuild;.\OCC\src\TopOpeBRepDS;.\OCC\src\TopOpeBRepTool;.\OCC\src\TopTools;.\OCC\src\TopTrans;.\OCC\src\TShort;.\OCC\src\Units;.\OCC\src\UnitsAPI;$(CSF_OPT_INC);%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>

      <GenerateXMLDocumentationFiles>false</GenerateXMLDocumentationFiles>
      <AdditionalOptions>%(AdditionalOptions)</AdditionalOptions>

      <StringPooling>true</StringPooling>
      <MultiProcessorCompilation>true</MultiProcessorCompilation>
      <Optimization>Disabled</Optimization>
      <ExceptionHandling>Async</ExceptionHandling>
      <DisableSpecificWarnings>4564;%(DisableSpecificWarnings)</DisableSpecificWarnings>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <FloatingPointModel>Precise</FloatingPointModel>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <CompileAsManaged>false</CompileAsManaged>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <WarningLevel>Level4</WarningLevel>
      <SuppressStartupBanner>true</SuppressStartupBanner>
    </ClCompile>
    <Link>
      <GenerateDebugInformation>DebugFull</GenerateDebugInformation>
      <AdditionalDependencies>%(AdditionalDependencies)</AdditionalDependencies>
      <AdditionalOptions>/ignore:4248 </AdditionalOptions>
      <Profile>false</Profile>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <RuntimeLibrary>MultiThreadedDebugDLL</RuntimeLibrary>
      <Optimization>Disabled</Optimization>
      <PreprocessorDefinitions>_DEBUG;HAVE_NO_DLL;_CRT_SECURE_NO_WARNINGS;_CRT_NONSTDC_NO_DEPRECATE;$(CSF_DEFINES);OCC_6_9_SUPPORTED;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <CompileAs>Default</CompileAs>
      <InlineFunctionExpansion>OnlyExplicitInline</InlineFunctionExpansion>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <AdditionalIncludeDirectories>.\OCCUtils\include;$(BOOST71_DIR);$(OCCT_DIR)\inc;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
      <GenerateXMLDocumentationFiles>false</GenerateXMLDocumentationFiles>
      <AdditionalOptions>%(AdditionalOptions)</AdditionalOptions>

      <StringPooling>true</StringPooling>
      <MultiProcessorCompilation>true</MultiProcessorCompilation>
      <Optimization>Disabled</Optimization>
      <ExceptionHandling>Async</ExceptionHandling>
      <DisableSpecificWarnings>4564;%(DisableSpecificWarnings)</DisableSpecificWarnings>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <FloatingPointModel>Precise</FloatingPointModel>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <CompileAsManaged>false</CompileAsManaged>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <WarningLevel>Level4</WarningLevel>
      <SuppressStartupBanner>true</SuppressStartupBanner>
    </ClCompile>
    <Link>
      <GenerateDebugInformation>DebugFull</GenerateDebugInformation>
      <AdditionalOptions>/ignore:4248 </AdditionalOptions>
      <Profile>false</Profile>
      <AdditionalDependencies>TKXSBase.lib;TKSTEP.lib;TKIGES.lib;TKXCAF.lib;TKXDESTEP.lib;TKLCAF.lib;TKBO.lib;TKG2d.lib;TKG3d.lib;TKBool.lib;TKPrim.lib;TKMath.lib;TKernel.lib;TKFillet.lib;TKOffset.lib;TKBRep.lib;TKMesh.lib;TKTopAlgo.lib;TKGeomAlgo.lib;TKShHealing.lib;TKGeomBase.lib;%(AdditionalDependencies)</AdditionalDependencies>
      <AdditionalLibraryDirectories>$(OCCT_DIR)\win64\vc14\lib;%(AdditionalLibraryDirectories)</AdditionalLibraryDirectories>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <RuntimeLibrary>MultiThreadedDLL</RuntimeLibrary>

      <PreprocessorDefinitions>WIN32;NDEBUG;HAVE_NO_DLL;No_Exception;_CRT_SECURE_NO_WARNINGS;_CRT_NONSTDC_NO_DEPRECATE;$(CSF_DEFINES);OCC_6_9_SUPPORTED;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <InlineFunctionExpansion>Disabled</InlineFunctionExpansion>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <AdditionalOptions>/bigobj %(AdditionalOptions)</AdditionalOptions>
      <AdditionalIncludeDirectories></AdditionalIncludeDirectories>

      <GenerateXMLDocumentationFiles>false</GenerateXMLDocumentationFiles>
      <AdditionalOptions>%(AdditionalOptions)</AdditionalOptions>
      <PreprocessorDefinitions>NDEBUG;No_Exception;_CRT_SECURE_NO_WARNINGS;_CRT_NONSTDC_NO_DEPRECATE;$(CSF_DEFINES);OCC_6_9_SUPPORTED;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <StringPooling>true</StringPooling>
      <MultiProcessorCompilation>true</MultiProcessorCompilation>
      <Optimization>MaxSpeed</Optimization>
      <ExceptionHandling>Async</ExceptionHandling>
      <DisableSpecificWarnings>4564;%(DisableSpecificWarnings)</DisableSpecificWarnings>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <FloatingPointModel>Precise</FloatingPointModel>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <CompileAsManaged>false</CompileAsManaged>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <WarningLevel>Level4</WarningLevel>
      <SuppressStartupBanner>true</SuppressStartupBanner>
    </ClCompile>
    <Link>
      <GenerateDebugInformation>false</GenerateDebugInformation>
      <AdditionalOptions>/ignore:4248 </AdditionalOptions>
      <AdditionalDependencies>%(AdditionalDependencies)</AdditionalDependencies>
      <OutputFile>$(OutDir)$(TargetName)$(TargetExt)</OutputFile>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <RuntimeLibrary>MultiThreadedDLL</RuntimeLibrary>
      <AdditionalOptions>%(AdditionalOptions)</AdditionalOptions>
      <PreprocessorDefinitions>NDEBUG;HAVE_NO_DLL;No_Exception;_CRT_SECURE_NO_WARNINGS;_CRT_NONSTDC_NO_DEPRECATE;$(CSF_DEFINES);OCC_6_9_SUPPORTED;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <AdditionalIncludeDirectories>.\OCCUtils\include;$(BOOST71_DIR);$(OCCT_DIR)\inc;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>

      <GenerateXMLDocumentationFiles>false</GenerateXMLDocumentationFiles>

      <StringPooling>true</StringPooling>
      <MultiProcessorCompilation>true</MultiProcessorCompilation>
      <Optimization>MaxSpeed</Optimization>
      <ExceptionHandling>Async</ExceptionHandling>
      <DisableSpecificWarnings>4564;%(DisableSpecificWarnings)</DisableSpecificWarnings>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <FloatingPointModel>Precise</FloatingPointModel>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <CompileAsManaged>false</CompileAsManaged>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <WarningLevel>Level4</WarningLevel>
      <SuppressStartupBanner>true</SuppressStartupBanner>
    </ClCompile>
    <Link>
      <GenerateDebugInformation>false</GenerateDebugInformation>
      <AdditionalOptions>/ignore:4248 </AdditionalOptions>
      <OutputFile>$(OutDir)$(TargetName)$(TargetExt)</OutputFile>
      <AdditionalDependencies>TKXSBase.lib;TKSTEP.lib;TKIGES.lib;TKXCAF.lib;TKXDESTEP.lib;TKLCAF.lib;TKBO.lib;TKG2d.lib;TKG3d.lib;TKBool.lib;TKPrim.lib;TKMath.lib;TKernel.lib;TKFillet.lib;TKOffset.lib;TKBRep.lib;TKMesh.lib;TKTopAlgo.lib;TKGeomAlgo.lib;TKShHealing.lib;TKGeomBase.lib;%(AdditionalDependencies)</AdditionalDependencies>
      <AdditionalLibraryDirectories>$(OCCT_DIR)\win64\vc14\lib;%(AdditionalLibraryDirectories)</AdditionalLibraryDirectories>
    </Link>
  </ItemDefinitionGroup>

  <ItemGroup>
    <ClInclude Include="resource.h" />
    <ClInclude Include="XbimCompound.h" />
    <ClInclude Include="XbimCurve.h" />
    <ClInclude Include="XbimCurve2D.h" />
    <ClInclude Include="XbimEdge.h" />
    <ClInclude Include="XbimEdgeSet.h" />
    <ClInclude Include="XbimFace.h" />
    <ClInclude Include="XbimFaceSet.h" />
    <ClInclude Include="XbimGeometryCreator.h" />
    <ClInclude Include="XbimGeometryObject.h" />
    <ClInclude Include="XbimGeometryObjectSet.h" />
    <ClInclude Include="XbimConvert.h" />
    <ClInclude Include="XbimOccShape.h" />
    <ClInclude Include="XbimOccWriter.h" />
    <ClInclude Include="XbimPoint3DWithTolerance.h" />
    <ClInclude Include="XbimShell.h" />
    <ClInclude Include="XbimShellSet.h" />
    <ClInclude Include="XbimSolid.h" />
    <ClInclude Include="XbimSolidSet.h" />
    <ClInclude Include="XbimVertex.h" />
    <ClInclude Include="XbimVertexSet.h" />
    <ClInclude Include="XbimWire.h" />
    <ClInclude Include="XbimWireSet.h" />
  </ItemGroup>
  <ItemGroup>
    <ClInclude Include="OCCUtils\include\occutils\Axis.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Boolean.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Compound.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Curve.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Curves.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Direction.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Edge.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Equality.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Exceptions.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\ExtendedSTEP.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Face.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Fillet.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\IO.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Line.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\ListUtils.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Pipe.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Plane.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Point.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Primitive.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\PrintOCC.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Shape.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\ShapeComponents.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Shapes.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\STEPExport.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Surface.hxx" />
    <ClInclude Include="OCCUtils\include\occutils\Wire.hxx" />
  </ItemGroup>
  <ItemGroup Label="OpenCascade">
    <ClCompile Include="XbimCompound.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimCurve.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimCurve2D.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimEdge.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimEdgeSet.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimFace.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimFaceSet.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimGeometryCreator.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimGeometryObject.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimGeometryObjectSet.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimConvert.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimOccShape.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimOccWriter.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimPoint3DWithTolerance.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimShell.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimShellSet.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimSolid.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimSolidSet.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimVertex.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimVertexSet.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimWire.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
    <ClCompile Include="XbimWireSet.cpp">
      <CompileAsManaged>true</CompileAsManaged>
    </ClCompile>
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="OCCUtils\src\Axis.cxx" />
    <ClCompile Include="OCCUtils\src\Boolean.cxx" />
    <ClCompile Include="OCCUtils\src\Compound.cxx" />
    <ClCompile Include="OCCUtils\src\Curve.cxx" />
    <ClCompile Include="OCCUtils\src\Direction.cxx" />
    <ClCompile Include="OCCUtils\src\Edge.cxx" />
    <ClCompile Include="OCCUtils\src\Equality.cxx" />
    <ClCompile Include="OCCUtils\src\ExtendedSTEP.cxx" />
    <ClCompile Include="OCCUtils\src\Face.cxx" />
    <ClCompile Include="OCCUtils\src\Fillet.cxx" />
    <ClCompile Include="OCCUtils\src\IO.cxx" />
    <ClCompile Include="OCCUtils\src\Line.cxx" />
    <ClCompile Include="OCCUtils\src\Pipe.cxx" />
    <ClCompile Include="OCCUtils\src\Plane.cxx" />
    <ClCompile Include="OCCUtils\src\Point.cxx" />
    <ClCompile Include="OCCUtils\src\Primitive.cxx" />
    <ClCompile Include="OCCUtils\src\PrintOCC.cxx" />
    <ClCompile Include="OCCUtils\src\Shape.cxx" />
    <ClCompile Include="OCCUtils\src\ShapeComponents.cxx" />
    <ClCompile Include="OCCUtils\src\STEPExport.cxx" />
    <ClCompile Include="OCCUtils\src\Surface.cxx" />
    <ClCompile Include="OCCUtils\src\Wire.cxx" />
  </ItemGroup>
  <!--Override the target GenerateTargetFrameworkMonikerAttribute so that we ClCompile as clr, default is not so-->
  <Target Name="GenerateTargetFrameworkMonikerAttribute" BeforeTargets="ClCompile" DependsOnTargets="PrepareForBuild;GetReferenceAssemblyPaths" Inputs="$(VCTargetsPath)\Microsoft.BuildSteps.targets" Outputs="$(TargetFrameworkMonikerAssemblyAttributesPath)" Condition="'$(GenerateTargetFrameworkAttribute)' == 'true'">
    <PropertyGroup>
      <!-- This attribute is only available in mscorlib v4 and later -->
      <AdditionalSourcesText Condition="'$(GenerateTargetFrameworkAttribute)' == 'true' and '$(TargetingClr2Framework)' != 'true'">
        $(AdditionalSourcesText)
        #using &lt;mscorlib.dll&gt;
        [assembly: System::Runtime::Versioning::TargetFrameworkAttribute(L"$(TargetFrameworkMoniker)", FrameworkDisplayName=L"$(TargetFrameworkMonikerDisplayName)")]%3b
      </AdditionalSourcesText>
    </PropertyGroup>
    <!-- This is a file shared between projects so we have to take care to handle simultaneous writes (by ContinueOnError)
             and a race between clean from one project and build from another (by not adding to FilesWritten so it doesn't clean) -->
    <WriteLinesToFile File="$(TargetFrameworkMonikerAssemblyAttributesPath)" Lines="$(AdditionalSourcesText)" Condition="'$(AdditionalSourcesText)' != ''" ContinueOnError="true" Overwrite="true" />
    <ItemGroup>
      <ClCompile Include="$(TargetFrameworkMonikerAssemblyAttributesPath)" Condition="'@(ClCompile)' != '' and '$(AdditionalSourcesText)' != ''">
        <!-- Since we didn't emit any necessary #include "stdafx.h" or similar -->
        <PrecompiledHeader>NotUsing</PrecompiledHeader>
        <!-- Override the CompileAsManaged setting as it will automatically be set depending on the current CLRSupport value -->
        <CompileAsManaged>True</CompileAsManaged>
      </ClCompile>
    </ItemGroup>
  </Target>
</Project >